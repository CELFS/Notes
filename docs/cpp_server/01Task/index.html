<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cpp_server/01Task" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">01Task | 编程内外</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://celfs.github.io/Notes/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://celfs.github.io/Notes/img/logo.png"><meta data-rh="true" property="og:url" content="https://celfs.github.io/Notes/docs/cpp_server/01Task/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="01Task | 编程内外"><meta data-rh="true" name="description" content="01 Task C++后台服务器开发 Ch11~Ch20 总结"><meta data-rh="true" property="og:description" content="01 Task C++后台服务器开发 Ch11~Ch20 总结"><link data-rh="true" rel="icon" href="/Notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://celfs.github.io/Notes/docs/cpp_server/01Task/"><link data-rh="true" rel="alternate" href="https://celfs.github.io/Notes/docs/cpp_server/01Task/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://celfs.github.io/Notes/docs/cpp_server/01Task/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous"><link rel="stylesheet" href="/Notes/assets/css/styles.4036c3d6.css">
<script src="/Notes/assets/js/runtime~main.0c3195c5.js" defer="defer"></script>
<script src="/Notes/assets/js/main.5693f5a2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Notes/img/logo.png"><div role="region" aria-label="跳到主要内容"><a class="skipToContent__HuA" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Notes/"><div class="navbar__logo"><img src="/Notes/img/logo.png" alt="Notes Logo" class="themedComponent_Exct themedComponent--light_c3lc"><img src="/Notes/img/logo.png" alt="Notes Logo" class="themedComponent_Exct themedComponent--dark_Ji9V"></div><b class="navbar__title text--truncate">编程内外</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Notes/docs/category/linux-os/">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CELFS/Notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_OAgU colorModeToggle_zRe0"><button class="clean-btn toggleButton_aClM toggleButtonDisabled_GkIb" type="button" disabled="" title="切换浅色/暗黑模式（当前为暗黑模式）" aria-label="切换浅色/暗黑模式（当前为暗黑模式）" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_zzlY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Z832"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Cx4E"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_liLQ"><div class="docsWrapper_evXH"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_nZiY" type="button"></button><div class="docRoot_jKp6"><aside class="theme-doc-sidebar-container docSidebarContainer_wXyP"><div class="sidebarViewport_LQZ0"><div class="sidebar_T0dy"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_WBBB"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/linux-os/">Linux OS</a><button aria-label="展开侧边栏分类 &#x27;Linux OS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/ajax/">Ajax</a><button aria-label="展开侧边栏分类 &#x27;Ajax&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/css/">CSS</a><button aria-label="展开侧边栏分类 &#x27;CSS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/javascript-es6/">JavaScript ES6</a><button aria-label="展开侧边栏分类 &#x27;JavaScript ES6&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/javascript/">JavaScript</a><button aria-label="展开侧边栏分类 &#x27;JavaScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/nodejs/">Node.js</a><button aria-label="展开侧边栏分类 &#x27;Node.js&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/typescript/">TypeScript</a><button aria-label="展开侧边栏分类 &#x27;TypeScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/vue/">Vue</a><button aria-label="展开侧边栏分类 &#x27;Vue&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/轻量级服务器开发tinywebserver/">轻量级服务器开发（TinyWebServer）</a><button aria-label="展开侧边栏分类 &#x27;轻量级服务器开发（TinyWebServer）&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Notes/docs/category/c-后台服务器开发/">C++ 后台服务器开发</a><button aria-label="折叠侧边栏分类 &#x27;C++ 后台服务器开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Notes/docs/cpp_server/00Task/">00 Task C++后台服务器开发 Ch07~Ch10 总结</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Notes/docs/cpp_server/01Task/">01 Task C++后台服务器开发 Ch11~Ch20 总结</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/mysql-必知必会/">MySQL 必知必会</a><button aria-label="展开侧边栏分类 &#x27;MySQL 必知必会&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/操作系统导论/">操作系统导论</a><button aria-label="展开侧边栏分类 &#x27;操作系统导论&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/qt/">QT</a><button aria-label="展开侧边栏分类 &#x27;QT&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/读吴军信息论-40-讲/">读吴军《信息论 40 讲》</a><button aria-label="展开侧边栏分类 &#x27;读吴军《信息论 40 讲》&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/读吴军富足/">读吴军《富足》</a><button aria-label="展开侧边栏分类 &#x27;读吴军《富足》&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/machine-learning-andrew-ng/">Machine Learning (Andrew Ng)</a><button aria-label="展开侧边栏分类 &#x27;Machine Learning (Andrew Ng)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/机器学习初步周志华/">机器学习初步（周志华）</a><button aria-label="展开侧边栏分类 &#x27;机器学习初步（周志华）&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/paddle-零基础深度学习第二版/">Paddle 零基础深度学习（第二版）</a><button aria-label="展开侧边栏分类 &#x27;Paddle 零基础深度学习（第二版）&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Notes/docs/category/动手学深度学习pytorch-版/">动手学深度学习（Pytorch 版）</a><button aria-label="展开侧边栏分类 &#x27;动手学深度学习（Pytorch 版）&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Notes/docs/">学而时习之</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_w5KD"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_r9MX"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_dhcR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_hWfg"><div class="docItemContainer_UIwD"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ViMa" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/Notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xAfz"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Notes/docs/category/c-后台服务器开发/"><span itemprop="name">C++ 后台服务器开发</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">01 Task C++后台服务器开发 Ch11~Ch20 总结</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_xgD3 theme-doc-toc-mobile tocMobile_UvqM"><button type="button" class="clean-btn tocCollapsibleButton_ldZF">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>01Task</h1></header><h2 class="anchor anchorWithStickyNavbar_QJwc" id="01-task-c后台服务器开发-ch11ch20-总结">01 Task C++后台服务器开发 Ch11~Ch20 总结<a href="#01-task-c后台服务器开发-ch11ch20-总结" class="hash-link" aria-label="01 Task C++后台服务器开发 Ch11~Ch20 总结的直接链接" title="01 Task C++后台服务器开发 Ch11~Ch20 总结的直接链接">​</a></h2>
<p>Date：2024/06/24 21:10:03</p>
<hr>
<p>[TOC]</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="00-进度">00 进度<a href="#00-进度" class="hash-link" aria-label="00 进度的直接链接" title="00 进度的直接链接">​</a></h3>
<ul>
<li>开始第十一章（2024/06/24）</li>
<li>完成第十一章（）</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十一章-oracle数据库基础上">第十一章 Oracle数据库基础（上）<a href="#第十一章-oracle数据库基础上" class="hash-link" aria-label="第十一章 Oracle数据库基础（上）的直接链接" title="第十一章 Oracle数据库基础（上）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="79-数据库的业务需求">79 数据库的业务需求<a href="#79-数据库的业务需求" class="hash-link" aria-label="79 数据库的业务需求的直接链接" title="79 数据库的业务需求的直接链接">​</a></h3>
<ul>
<li>
<p>数据存储方式</p>
<ul>
<li>磁盘文件</li>
<li>关系型数据库（Oracle、MySQL、SQL Server、PostgreSQL）</li>
<li>非关系型数据库 NoSQL（Redis、HBase、MongoDB）</li>
</ul>
</li>
<li>
<p>概括</p>
<ul>
<li>性能 + 安全性
<ul>
<li>Oracle（适用重要数据、几十亿量级）</li>
<li>MySQL（适用不重要、百万量级）</li>
</ul>
</li>
<li>行业应用
<ul>
<li>国内互联网：MySQL为主，免费关键，而性能（Redis解决）和安全（分布式解决）不是重点</li>
<li>传统行业：Oracle为主（银行、证券、军队、医院、政府）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>2024/06/24 21:22:20 笔记整理</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="80-oracle数据库系统的安装">80 Oracle数据库系统的安装<a href="#80-oracle数据库系统的安装" class="hash-link" aria-label="80 Oracle数据库系统的安装的直接链接" title="80 Oracle数据库系统的安装的直接链接">​</a></h3>
<ul>
<li>
<p>概括</p>
<ul>
<li>Oracle 的安装是个技术活，在虚拟机或低配设备，容易出现莫名其妙的问题。</li>
<li>本节讲述的都是具体操作，按流程完成即可，常规方法可自行查阅相关资料。</li>
</ul>
</li>
<li>
<p>Oracle 安装（非常规，仅供学习）</p>
<ul>
<li>两种方法
<ul>
<li>1）静默安装，技术难度较大，通常由 Oracle 的 DBA（数据库管理员）使用，普通程序员较难掌握；</li>
<li>2）从安装成功的环境，传递优化（软件、数据库实例、环境参数等打包），在目标系统解压恢复（类似镜像还原）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="01-环境需求">01 环境需求<a href="#01-环境需求" class="hash-link" aria-label="01 环境需求的直接链接" title="01 环境需求的直接链接">​</a></h4>
<ul>
<li>软件（CentOS7、zh_CN.UTF-8）</li>
<li>硬件（内存 1024MB、交换区）
<ul>
<li>如下，得知已分配交换区在该内存区间内，应设为内存的1倍，满足</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240624214035554" src="/Notes/assets/images/image-20240624214035554-eac48494e1a32eb128242cfad01d8248.png" width="775" height="72" class="img_O9Fa"></p>
<ul>
<li>依赖包（命令报错）</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">yum install -y \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">binutils* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">compat-libstdc* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">elfutils-libelf* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gcc* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ksh* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libaio* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libgcc* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libstdc* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sysstat* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libXp* \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc-kernheaders \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ksh \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">binutils \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">compat-libstdc++-33 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">elfutils-libelf \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">elfutils-libelf-devel \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gcc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gcc-c++ \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc-common \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc-devel \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libaio \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libaio-devel \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libgcc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libstdc++ \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libstdc++-devel \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numactl \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sysstat \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libXp \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unixODBC \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unixODBC-devel\</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>转换为 Ubuntu 等效依赖包（少了12个包，先下一步，有问题再补）</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 安装 Ubuntu 上等效的依赖包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">binutils \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libstdc++6 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libstdc++-10-dev \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libelf1 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libelf-dev \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gcc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">g++ \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libc6 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libc6-dev \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ksh \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libaio1 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libaio-dev \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libgcc1 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libgcc-10-dev \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sysstat \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc-source \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">glibc-doc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">libnuma1 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numactl \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unixodbc \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unixodbc-dev</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 逐个检查安装情况</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y binutils</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libstdc++6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libstdc++-10-dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libelf1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libelf-dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y gcc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y g++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libc6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libc6-dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y ksh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libaio1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libaio-dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libgcc1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libgcc-10-dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y make</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y sysstat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y glibc-source</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y glibc-doc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y libnuma1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y numactl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y unixodbc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install -y unixodbc-dev</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="02-修改系统核心参数5个文件">02 修改系统核心参数（5个文件）<a href="#02-修改系统核心参数5个文件" class="hash-link" aria-label="02 修改系统核心参数（5个文件）的直接链接" title="02 修改系统核心参数（5个文件）的直接链接">​</a></h4>
<ul>
<li>1）<code>/etc/sysctl.conf</code>
<ul>
<li><code>kernel.shmmax</code> 为操作系统内存的一半（单位：字节）</li>
<li>例如本机，内存 3888MB，则
<ul>
<li><code>kernel.shmmax = (3888 / 1024) * 1024* 1024 * 1024 = 2038431744</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">fs.file-max = 6815744</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fs.aio-max-nr = 1048576</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kernel.shmall = 2097152</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kernel.shmmax = 2038431744</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kernel.shmmni = 4096</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kernel.sem = 250 32000100 128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">net.ipv4.ip_local_port_range = 9000 65500</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">net.core.rmem_default = 262144</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">net.core.rmem_max = 4194304</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">net.core.wmem_default = 262144</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">net.core.wmem_max = 1048576</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>2）<code>/etc/security/limits.conf</code></li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># For Oracle install</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle           soft    nproc     2047</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle           hard    nproc    16384</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle           soft    nofile    1024</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle           hard    nofile   65536</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle           hard    stack    10240</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>3）<code>/etc/pam.d/login</code></li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># For Oracle install</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">session    required     /lib64/security/pam_limits.so</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>4）<code>/etc/profile</code></li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [ $USER = &quot;oracle&quot; ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        # For Oracle install</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if [ $SHELL = &quot;/bin/ksh&quot; ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              ulimit -p 16384</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              ulimit -n 65536</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              ulimit -u 16384 -n 65536</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>5）<code>/etc/selinux/config</code></li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SELINUX=disabled # 本机默认</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>6）重启服务器</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo init 6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo reboot</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="03-创建-oracle-用户和组">03 创建 Oracle 用户和组<a href="#03-创建-oracle-用户和组" class="hash-link" aria-label="03 创建 Oracle 用户和组的直接链接" title="03 创建 Oracle 用户和组的直接链接">​</a></h4>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 创建 dba 组</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo groupadd dba</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 创建 oracle用户，组名 dba，用户根目录 /oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo useradd -m -d /home/oracle -s /bin/bash -g dba oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 课程代码的等效语句，若两语句都提示目录不存在，则先 mkdir /home/oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># sudo useradd oracle -g dba -d /oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 修改用户密码</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo passwd oracle</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="04-若目录不存在">04 若目录不存在<a href="#04-若目录不存在" class="hash-link" aria-label="04 若目录不存在的直接链接" title="04 若目录不存在的直接链接">​</a></h4>
<ul>
<li>创建用户与组之后，切换用户时，若提示 <code>/oracle</code> 目录不存在
<ul>
<li>切换到 <code>sudo</code> 组用户</li>
<li>在 <code>/home</code> 下创建目录 <code>oracle</code></li>
<li>修改用户路径</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 切换到 sudo 用户</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">su - celfs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 创建 oracle 目录</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celfs@ub /home % sudo mkdir oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 指定 oracle 目录，前面已创建用户，此处将报错 “用户已存在”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo useradd -m -d /home/oracle -s /bin/bash -g dba oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 查阅 oracle 用户的目录信息</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celfs@ub ~ % grep oracle /etc/passwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle:x:1001:1001::/oracle:/bin/sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 修改 oracle 用户根目录及默认的 shell</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celfs@ub ~ % sudo vim /etc/passwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 补充，修改默认 shell 的语句</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo usermod -s /usr/bin/zsh oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 完成修改，此处切换用户，正常进入</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celfs@ub ~ % grep oracle /etc/passwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle:x:1001:1001::/home/oracle:/bin/bash</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="05-上传-oracle-安装包">05 上传 Oracle 安装包<a href="#05-上传-oracle-安装包" class="hash-link" aria-label="05 上传 Oracle 安装包的直接链接" title="05 上传 Oracle 安装包的直接链接">​</a></h4>
<ul>
<li>操作时，出现了 FTP 传输 <code>451</code> 错误，排查发现是硬盘容量不足，于是进行扩容和清理，详见下文（BUG）一节。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="06-解压-oracle-安装包">06 解压 Oracle 安装包<a href="#06-解压-oracle-安装包" class="hash-link" aria-label="06 解压 Oracle 安装包的直接链接" title="06 解压 Oracle 安装包的直接链接">​</a></h4>
<ul>
<li>切换到 oracle 用户 --&gt; 解压到根目录 --&gt; <strong>退出 oracle 用户</strong> --&gt; 环境变量生效</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">tar zxvf oracle11gR2.tgz</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="07-数据库的参数">07 数据库的参数<a href="#07-数据库的参数" class="hash-link" aria-label="07 数据库的参数的直接链接" title="07 数据库的参数的直接链接">​</a></h4>
<ul>
<li>解压后，<code>/oracle/.bash_profile</code> 文件，包含 Oracle 数据库的安装参数。</li>
<li>由于本机 oracle 用户创建的方式有些不同，于是需要修改安装参数。</li>
<li>修改后，<code>LD_LIBRARY_PATH</code> 的存在会导致 <code>vi</code> 和 <code>vim</code> 报错，这可能是库冲突导致的，于是，先获取它们的依赖包，并且将路径优先添加到 <code>LD_LIBRARY_PATH</code> 前面，这样可以保证编辑器可用，并且保证 Oracle 指令顺利识别。</li>
<li>更改依赖路径后，原本的 <code>vim</code> 个性化设置也消失了，需要将配置文件拷贝。</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># .bash_profile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Get the aliases and functions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [ -f ~/.bashrc ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        . ~/.bashrc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># User specific environment and startup programs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PATH=$PATH:$HOME/bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export PATH</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export ORACLE_BASE=/home/oracle/oracle/base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export ORACLE_HOME=/home/oracle/oracle/home</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 以下的ORACLE_SID，snoracl是字母，11是数字，g是字母。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export ORACLE_SID=snorcl11g</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export NLS_LANG=&#x27;Simplified Chinese_China.AL32UTF8&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Find vi and vim library dependencies</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VI_DEP_LIB_PATHS=$(ldd $(which vi) | awk &#x27;{print $3}&#x27; | grep -v &#x27;^$&#x27; | xargs -I {} dirname {} | sort -u | tr &#x27;\n&#x27; &#x27;:&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VIM_DEP_LIB_PATHS=$(ldd $(which vim) | awk &#x27;{print $3}&#x27; | grep -v &#x27;^$&#x27; | xargs -I {} dirname {} | sort -u | tr &#x27;\n&#x27; &#x27;:&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ORACLE_HOME/lib:/usr/lib:.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export LD_LIBRARY_PATH=/usr/lib:/lib/x86_64-linux-gnu:$VI_DEP_LIB_PATHS:$VIM_DEP_LIB_PATHS:$ORACLE_HOME/lib</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export PATH=$PATH:$HOME/bin:$ORACLE_HOME/bin:.</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 更新配置文件</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source oracle/.bash_profile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 验证环境变量</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $ORACLE_BASE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $ORACLE_HOME</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $ORACLE_SID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $LD_LIBRARY_PATH</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $NLS_LANG</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 修改默认 shell 的配置文件 (.zshrc)，以自动启用环境变量</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Source Oracle environment variables</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source /home/oracle/oracle/.bash_profile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 更新配置文件</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source .zshrc</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="08-数据库的启动">08 数据库的启动<a href="#08-数据库的启动" class="hash-link" aria-label="08 数据库的启动的直接链接" title="08 数据库的启动的直接链接">​</a></h4>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 启动 Oracle 网络监听服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">lsnrctl start</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240625231109858" src="/Notes/assets/images/image-20240625231109858-ecefe243fcc035b09b3dc881fc953c4c.png" width="875" height="486" class="img_O9Fa"></p>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 启动数据库系统</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dbstart</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><del>路径报错</del></p>
<ul>
<li>经过多次尝试修改，无果。决定直接把 oracle 文件夹放到根目录，路径按照默认的处理（需保留对 <code>vim</code> 的路径兼容） --&gt; 问题解决</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626012535247" src="/Notes/assets/images/image-20240626012535247-73a5eb15ceb8531d487d67276c285c7c.png" width="874" height="251" class="img_O9Fa"></p>
<ul>
<li>修改权限</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo chown -R oracle:dba  /oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 修改前</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle@ub / % ls -l | grep oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxr-xr-x  10 root root       4096 Jun 26 02:02 oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 修改后</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle@ub / % ls -l | grep oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxr-xr-x  10 oracle dba        4096 Jun 26 02:02 oracle</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>成功运行 Oracle</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626021303773" src="/Notes/assets/images/image-20240626021303773-8e94dc9e0849d5bfa58fa47f0ce2549b.png" width="882" height="340" class="img_O9Fa"></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="09-数据库的关闭">09 数据库的关闭<a href="#09-数据库的关闭" class="hash-link" aria-label="09 数据库的关闭的直接链接" title="09 数据库的关闭的直接链接">​</a></h4>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 关闭网络监听服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">lsnrctl stop</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 关闭数据库系统</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dbshut</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240626022111361" src="/Notes/assets/images/image-20240626022111361-37c279bae3d5cc6889900d6cf218880e.png" width="882" height="436" class="img_O9Fa"></p>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="10-采用-sqlplus-登录数据库">10 采用 sqlplus 登录数据库<a href="#10-采用-sqlplus-登录数据库" class="hash-link" aria-label="10 采用 sqlplus 登录数据库的直接链接" title="10 采用 sqlplus 登录数据库的直接链接">​</a></h4>
<ul>
<li>sqlplus 是 Oracle 自带的工具
<ul>
<li>一般用来执行简单的 sql 命令，以及执行数据库管理命令</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 启动网络监听服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">lsnrctl start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 启动数据库实例</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dbstart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 在实例中，以 scott 普通用户身份，登录数据库(pw: tiger)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlplus scott/tiger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 退出 sqlplus</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 以系统管理员身份，登录数据库</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlplus / as sysdba</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240626022956328" src="/Notes/assets/images/image-20240626022956328-8b567807561f29586a4312ff29abd098.png" width="875" height="286" class="img_O9Fa"></p>
<p><img decoding="async" loading="lazy" alt="image-20240626023146280" src="/Notes/assets/images/image-20240626023146280-10b69bac464f8e9338cc20dae6d8d3fb.png" width="883" height="220" class="img_O9Fa"></p>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="11-查询数据库版本">11 查询数据库版本<a href="#11-查询数据库版本" class="hash-link" aria-label="11 查询数据库版本的直接链接" title="11 查询数据库版本的直接链接">​</a></h4>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> v$version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240626023403380" src="/Notes/assets/images/image-20240626023403380-de876435fdf2a24b432347831cf10de5.png" width="883" height="207" class="img_O9Fa"></p>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="12-服务器防火墙配置">12 服务器防火墙配置<a href="#12-服务器防火墙配置" class="hash-link" aria-label="12 服务器防火墙配置的直接链接" title="12 服务器防火墙配置的直接链接">​</a></h4>
<ul>
<li>Oracle 数据库缺省的通信端口是 1521，如果想从<strong>远程连接</strong> Oracle 数据库，需要开通服务器防火墙的 <strong>1521 端口</strong>。</li>
<li>如果需要使用 Oracle 客户端访问虚拟机中的数据库服务器，则需要用 sudo 用户开启 1521 端口。</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 检查防火墙状态(running 则已开启)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo firewall-cmd --state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 查看是否开启 1521 端口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo firewall-cmd --list-all</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 开放 1521 端口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo firewall-cmd --permanent --add-port=1521/tcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 重新加载防火墙规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo firewall-cmd --reload</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>未开启 1521 端口</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626212409659" src="/Notes/assets/images/image-20240626212409659-af53c6a4741db3210b0f0d613014de00.png" width="896" height="286" class="img_O9Fa"></p>
<ul>
<li>已开启 1521 端口 --&gt; 客户端成功连接数据库服务器</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626212354780" src="/Notes/assets/images/image-20240626212354780-a4992729f325b883fcb66ea3157c7470.png" width="873" height="288" class="img_O9Fa"></p>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="13-云平台访问策略配置">13 云平台访问策略配置<a href="#13-云平台访问策略配置" class="hash-link" aria-label="13 云平台访问策略配置的直接链接" title="13 云平台访问策略配置的直接链接">​</a></h4>
<ul>
<li>如果 Oracle 数据库安装在云服务器上，需要登录云服务器提供商的管理平台开通访问策略（或安全组），开通 <strong>1521 端口的访问策略</strong>。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="14-oracle-数据库开机自启动">14 Oracle 数据库开机自启动<a href="#14-oracle-数据库开机自启动" class="hash-link" aria-label="14 Oracle 数据库开机自启动的直接链接" title="14 Oracle 数据库开机自启动的直接链接">​</a></h4>
<ul>
<li>目前可不看，后面需要再看。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-疑问">00 疑问<a href="#00-疑问" class="hash-link" aria-label="00 疑问的直接链接" title="00 疑问的直接链接">​</a></h4>
<ul>
<li><del>看到 <code>/etc/passwd</code> 文件，突然理解了 Linux 里面用户权限的表示，<code>x</code> 后面的代码即为权限？</del>
<ul>
<li>不是的，<code>x</code> 是用户密码的占位，有时候是 <code>*</code>，实际的密码被存储在 <code>/etc/shadow</code> 文件中。
<ul>
<li><code>oracle</code> 是用户名；<code>x</code> 是密码字段；</li>
<li><code>1001</code> 是用户的 UID；<code>1001</code> 是用户所属的 GID；</li>
<li><code>::</code> 表示空的 GECOS 字段；</li>
<li><code>/home/oracle</code> 是用户的主目录路径；</li>
<li><code>/bin/zsh</code> 是用户登录时使用的 shell</li>
</ul>
</li>
<li>确切的权限，通过文件系统的权限控制（例如 <code>chmod</code> 命令设置的权限）来管理。</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">username:password:UID:GID:GECOS:home_directory:shell</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle:x:1001:1001::/home/oracle:/bin/zsh</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><del>如何将用户 <code>celfs</code> 的 <code>zsh</code> 配置，打包参数后，直接分享给用户 <code>oracle</code> ？</del></li>
<li><del>目前 <code>oracle</code> 里面十分干净，那么前面一系列的设置，能够顺利生效吗？</del>
<ul>
<li>检查发现，<code>etc</code> 等系统目录是共享的，并且他们同属一个 <code>home</code> 目录</li>
<li>这么看来，还是有希望直接使用 <code>zsh</code> 的。</li>
</ul>
</li>
<li>拷贝 <code>zsh</code> 配置（已解决）
<ul>
<li>拷贝 <code>.zshrc</code> 后，切换用户，可根据报错信息继续拷贝其他文件</li>
<li>给必要文件赋权</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 拷贝配置文件</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp /home/celfs/.zshrc /home/oracle/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 修改默认 shell</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo usermod -s /usr/bin/zsh oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 拷贝剩余文件</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp -r /home/celfs/.local /home/oracle/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp -r /home/celfs/.oh-my-zsh /home/oracle/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp -r /home/celfs/.cache /home/oracle/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 赋权</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo chown -R oracle:dba /home/oracle/.cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 验证权限</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">su - oracle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">touch /home/oracle/.cache/testfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ls -l /home/oracle/.cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 解决切换 .cache 目录报错问题</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo chown -R oracle:dba /home/oracle/.local</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>切换 <code>.cache</code> 目录报错（权限问题，已解决）</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle@ub ~ % .cache                                                                                            [0]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oracle@ub .cache % Traceback (most recent call last):                                                           [0]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/share/autojump/autojump_data.py&quot;, line 75, in load</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    with open(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/lib/python3.8/codecs.py&quot;, line 905, in open</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    file = builtins.open(filename, mode, buffering)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PermissionError: [Errno 13] Permission denied: &#x27;/home/oracle/.local/share/autojump/autojump.txt&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">During handling of the above exception, another exception occurred:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Traceback (most recent call last):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/lib/python3.8/shutil.py&quot;, line 791, in move</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    os.rename(src, real_dst)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PermissionError: [Errno 13] Permission denied: &#x27;/home/oracle/.local/share/autojump/autojump.txt.bak&#x27; -&gt; &#x27;/home/oracle/.local/share/autojump/autojump.txt&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">During handling of the above exception, another exception occurred:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Traceback (most recent call last):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/bin/autojump&quot;, line 320, in &lt;module&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sys.exit(main(parse_arguments()))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/bin/autojump&quot;, line 264, in main</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    save(config, first(add_path(load(config), args.add)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/share/autojump/autojump_data.py&quot;, line 84, in load</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return load_backup(config)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/share/autojump/autojump_data.py&quot;, line 89, in load_backup</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    move_file(config[&#x27;backup_path&#x27;], config[&#x27;data_path&#x27;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/share/autojump/autojump_utils.py&quot;, line 139, in move_file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    shutil.move(src, dst)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/lib/python3.8/shutil.py&quot;, line 811, in move</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    copy_function(src, real_dst)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/lib/python3.8/shutil.py&quot;, line 435, in copy2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    copyfile(src, dst, follow_symlinks=follow_symlinks)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  File &quot;/usr/lib/python3.8/shutil.py&quot;, line 264, in copyfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    with open(src, &#x27;rb&#x27;) as fsrc, open(dst, &#x27;wb&#x27;) as fdst:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PermissionError: [Errno 13] Permission denied: &#x27;/home/oracle/.local/share/autojump/autojump.txt.bak&#x27;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-bug">00 BUG<a href="#00-bug" class="hash-link" aria-label="00 BUG的直接链接" title="00 BUG的直接链接">​</a></h4>
<ul>
<li><del>1）FTP 传输文件，提示 <code>451</code> 错误，实际上，并非权限问题，而是虚拟机硬盘满了。于是，需要拓展虚拟机硬盘。</del> （扩展存储后，问题解决）
<ul>
<li>1）虚拟机——快照管理器——删除快照</li>
<li>2）虚拟机设置——硬盘——扩展（50GB --&gt; 90GB）</li>
<li>3）虚拟机内部设置</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 扩展前</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celfs@ub ~ % df -h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Filesystem                         Size  Used Avail Use% Mounted on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">udev                               1.9G     0  1.9G   0% /dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              389M  1.5M  388M   1% /run</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/dev/mapper/ubuntu--vg-ubuntu--lv   24G   23G   37M 100% /</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              1.9G     0  1.9G   0% /dev/shm</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              5.0M     0  5.0M   0% /run/lock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              1.9G     0  1.9G   0% /sys/fs/cgroup</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/dev/nvme0n1p2                     2.0G  211M  1.6G  12% /boot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              389M     0  389M   0% /run/user/1000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 扩展后</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celfs@ub ~ % df -h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Filesystem                         Size  Used Avail Use% Mounted on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">udev                               1.9G     0  1.9G   0% /dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              389M  1.5M  388M   1% /run</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/dev/mapper/ubuntu--vg-ubuntu--lv   48G   23G   23G  50% /</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              1.9G     0  1.9G   0% /dev/shm</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              5.0M     0  5.0M   0% /run/lock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              1.9G     0  1.9G   0% /sys/fs/cgroup</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/dev/nvme0n1p2                     2.0G  211M  1.6G  12% /boot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tmpfs                              389M     0  389M   0% /run/user/1000</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 显示各个文件系统的挂载点、总大小、已用空间和可用空间</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">df -h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 查看卷组信息</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo vgdisplay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 查看现有物理卷</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo pvs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># sudo vgextend ubuntu-vg /dev/nvme0n1p3 # 可能报错</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># sudo pvresize /dev/nvme0n1p3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 扩展分区</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 扩展 ext4 文件系统</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>2）虚拟机登录界面（字符界面），循环登录验证，无法进入用户 shell，但用其他 SSH 的 shell 可以登录用户。</p>
<ul>
<li>这个操作好像是在尝试上传文件到用户 oracle 失败后（权限不足），使用了 <code>sudo chown -R oracle /home/oracle</code> 导致的（也可能是更早之前的其他原因，例如因为在同一个 <code>/home</code> 下，创建了两个用户目录，识别初始目录产生歧义之类的，这个操作可以对应到默认 shell 的配置文件中）</li>
</ul>
</li>
<li>
<p>3）设置 Oracle 动态库路径为环境变量后，导致 <code>vi</code> 与 <code>vim</code> 等工具失效，直接原因是库冲突，修改库路径优先级后，文件暂时解决，但工具的个性化配置也随之消失，需要将相关配置文件拷贝过来。</p>
</li>
<li>
<p>2024/06/24 23:39:05 安装，2h26min</p>
</li>
<li>
<p>2024/06/26 00:15:08 空间扩展 + 配置 Oracle + vim 失效 BUG，4h16min</p>
</li>
<li>
<p>2024/06/26 01:29:19 解决环境变量冲突问题，19min</p>
</li>
<li>
<p>2024/06/26 02:47:50 完成安装 + 全调试+ 笔记，1h18min</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="81-oracle客户端的安装和配置">81 Oracle客户端的安装和配置<a href="#81-oracle客户端的安装和配置" class="hash-link" aria-label="81 Oracle客户端的安装和配置的直接链接" title="81 Oracle客户端的安装和配置的直接链接">​</a></h3>
<ul>
<li>Oracle 客户端的组成
<ul>
<li>Oracle 客户端软件（客户端工具 + 访问库）</li>
<li>PL/SQL Server 软件（程序员、运维人员）</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="01-oracle-客户端软件安装">01 Oracle 客户端软件安装<a href="#01-oracle-客户端软件安装" class="hash-link" aria-label="01 Oracle 客户端软件安装的直接链接" title="01 Oracle 客户端软件安装的直接链接">​</a></h4>
<ul>
<li>管理员类型，其余步骤缺省即可</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626170501377" src="/Notes/assets/images/image-20240626170501377-b37204ef58a7793d4c9c9e3b7c009f1d.png" width="784" height="589" class="img_O9Fa"></p>
<ul>
<li>查阅环境变量</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626171437244" src="/Notes/assets/images/image-20240626171437244-859921ea0860b36b419392c0efcf658a.png" width="1125" height="648" class="img_O9Fa"></p>
<ul>
<li>查阅注册表
<ul>
<li>存放了客户端的参数，一般不必修改</li>
<li><code>NLS_LANG</code> 为客户端字符集；<code>ORACLE_HOME</code> 为软件安装根目录</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626171228040" src="/Notes/assets/images/image-20240626171228040-c7b72705ef2d5071947116488f04a9d4.png" width="1071" height="337" class="img_O9Fa"></p>
<ul>
<li>
<p>配置参数（Windows 系统）</p>
<ul>
<li><code>D:\app\CELFS\product\11.2.0\client_1\network\admin</code></li>
<li><code>tnsnames.ora</code> 文件
<ul>
<li>拷贝</li>
<li>权限：属性 --&gt; 安全 --&gt; 完全控制</li>
<li>配置</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># This file contains the syntax information for </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the entries to be put in any tnsnames.ora file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The entries in this file are need based. </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># There are no defaults for entries in this file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that Sqlnet/Net3 use that need to be overridden </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Typically you could have two tnsnames.ora files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># in the system, one that is set for the entire system</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># and is called the system tnsnames.ora file, and a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># second file that is used by each user locally so that</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># he can override the definitions dictated by the system</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># tnsnames.ora file.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The entries in tnsnames.ora are an alternative to using</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the names server with the onames adapter.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># They are a collection of aliases for the addresses that </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the listener(s) is(are) listening for a database or </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># several databases.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The following is the general syntax for any entry in </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># a tnsnames.ora file. There could be several such entries </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># tailored to the user&#x27;s needs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">snorcl11g_150 =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  (DESCRIPTION =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    (ADDRESS_LIST =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.20.150)(PORT = 1521))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    (CONNECT_DATA =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      (SID = snorcl11g)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      (SERVER = DEDICATED)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#snorcl11g_130 =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  (DESCRIPTION =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#    (ADDRESS_LIST =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.150.130)(PORT = 1521))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#    (CONNECT_DATA =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#      (SID = snorcl11g)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#      (SERVER = DEDICATED)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#    )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  )</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>开启防火墙端口（见上一节，防火墙的设置）
<ul>
<li>缺省端口 1521，若防火墙端口未开放，则提示连接超时；</li>
<li>否则，连接成功。</li>
</ul>
</li>
</ul>
<div class="language-cmd codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-cmd codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 登录需添加 @数据库实例名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlplus scott/tiger@snorcl11g_150</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240626212836881" src="/Notes/assets/images/image-20240626212836881-a2f4070f775a3e65b908efbfbe2cc702.png" width="861" height="503" class="img_O9Fa"></p>
</li>
<li>
<p>配置参数（Linux 系统）</p>
<ul>
<li>内容与前面一致</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-bash codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vim /oracle/home/network/admin/tnsnames.ora</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 登录远程数据库</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlplus scott/tiger@snorcl11g_150</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="02-plsql-server-软件安装">02 PL/SQL Server 软件安装<a href="#02-plsql-server-软件安装" class="hash-link" aria-label="02 PL/SQL Server 软件安装的直接链接" title="02 PL/SQL Server 软件安装的直接链接">​</a></h4>
<ul>
<li>缺省安装</li>
<li>软件许可 <code>pl/sql developer 11</code></li>
</ul>
<div class="language-txt codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-txt codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Product Code:  4t46t6vydkvsxekkvf3fjnpzy5wbuhphqz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">serial Number: 601769</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">password:      xs374ca</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240626215106978" src="/Notes/assets/images/image-20240626215106978-a4b9dfa8becbf9da225e4a81ae88e154.png" width="828" height="343" class="img_O9Fa"></p>
<ul>
<li>
<p>登录客户端</p>
<ul>
<li>修改各界面字体属性（字号 10 合适）</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626215706024" src="/Notes/assets/images/image-20240626215706024-28353d94a23deb07156cb0dca6e7a4ad.png" width="957" height="664" class="img_O9Fa"></p>
<ul>
<li>隐藏部分窗口</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626220226051" src="/Notes/assets/images/image-20240626220226051-8bebe56ccb95a2e6378f588779a3308f.png" width="816" height="473" class="img_O9Fa"></p>
<ul>
<li>SQL 窗口 --&gt; 执行语句（显示效果最好）</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626220353540" src="/Notes/assets/images/image-20240626220353540-be677f34d57fbce1743526a68ee3cf46.png" width="785" height="413" class="img_O9Fa"></p>
<ul>
<li>执行语句（F8），报错，但内容正常显示</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626220524518" src="/Notes/assets/images/image-20240626220524518-b13af8d285116da1abd2a70ed2eaa840.png" width="774" height="441" class="img_O9Fa"></p>
<p><img decoding="async" loading="lazy" alt="image-20240626220625956" src="/Notes/assets/images/image-20240626220625956-0a2d90942b0c6a6eedf75b0f101dd091.png" width="745" height="494" class="img_O9Fa"></p>
<ul>
<li>命令行窗口 --&gt; 执行语句（显示效果如下）</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240626220759836" src="/Notes/assets/images/image-20240626220759836-9c1897ea203fe2b029a392f51810a5e0.png" width="854" height="536" class="img_O9Fa"></p>
</li>
<li>
<p>2024/04/28 18:26:24；2024/06/26 17:19:32 32min</p>
</li>
<li>
<p>2024/06/26 22:08:40 1h23min</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="82-表的基本概念">82 表的基本概念<a href="#82-表的基本概念" class="hash-link" aria-label="82 表的基本概念的直接链接" title="82 表的基本概念的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="01-表">01 表<a href="#01-表" class="hash-link" aria-label="01 表的直接链接" title="01 表的直接链接">​</a></h4>
<ul>
<li>数据库最基本的逻辑结构（存放一切数据）</li>
<li>其他数据库对象（索引、视图、同义词等），是为了便捷操作表中数据</li>
<li>列（数据项）、行（数据元素）</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="02-创建表">02 创建表<a href="#02-创建表" class="hash-link" aria-label="02 创建表的直接链接" title="02 创建表的直接链接">​</a></h4>
<ul>
<li>表名原则：1）以 <code>T_</code> 为前缀；2）可读含义（完整单词、简写、拼音等）</li>
<li>语法类似 C 语言结构体</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	字段名</span><span class="token number">1</span><span class="token plain"> 数据类型 </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    字段名</span><span class="token number">2</span><span class="token plain"> 数据类型 </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    字段名n 数据类型 </span><span class="token boolean">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="03-列的数据类型">03 列的数据类型<a href="#03-列的数据类型" class="hash-link" aria-label="03 列的数据类型的直接链接" title="03 列的数据类型的直接链接">​</a></h4>
<ul>
<li>字符串类型：<code>char(str_len), varchar2(str_len)</code></li>
<li>数字类型：
<ul>
<li><code>number(num_len, decimal_places)</code> 、整数 <code>number(num_len, 0)</code></li>
<li>例 <code>number(5, 2)</code> --&gt; <code>-999.99~999.99</code></li>
</ul>
</li>
<li>日期类型：
<ul>
<li><code>date</code>，本质是一个整数（时间戳）</li>
<li>年 <code>yyyy</code>、月 <code>mm</code>、日 <code>dd</code>、时 <code>hh24</code>、分 <code>mi</code>、秒 <code>ss</code></li>
</ul>
</li>
<li><code>clob</code> 类型：单字节字符串、多字节文本数据（文本文件、xml 文件等）</li>
<li><code>blob</code> 类型：非结构化的二进制数据（图片、音频、视频、office 文档等）</li>
<li><code>rowid</code> 类型：表中记录在数据库中的物理地址</li>
<li>其他见讲义《Oracle 数据类型》</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="04-创建表的实例">04 创建表的实例<a href="#04-创建表的实例" class="hash-link" aria-label="04 创建表的实例的直接链接" title="04 创建表的实例的直接链接">​</a></h4>
<ul>
<li>值是否为空、值的长度，由业务决定</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> T_GIRL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  id        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">         </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 编号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  name      varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">30</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">    </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 姓名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  yz        varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">        </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 颜值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sc        varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">        </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 身材</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  weight    number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">     </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 体重，单位：kg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  height    number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">       </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 身高，单位：cm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  birthday  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">date</span><span class="token plain">            </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 出生时间，可精确到秒。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  memo      varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">      </span><span class="token boolean">null</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 备注</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="05-语法约定">05 语法约定<a href="#05-语法约定" class="hash-link" aria-label="05 语法约定的直接链接" title="05 语法约定的直接链接">​</a></h4>
<ul>
<li>Oracle数据库的 SQL 语句中，关键字、表名、字段名都不区分大小写；</li>
<li>注释 <code>--</code></li>
<li>插入记录语句中，表名字段列表与值字段列表，必须一一对应；</li>
<li>字符串单引号包含，没有字符概念（Oracle 将其定义为长度为1的字符串）；</li>
<li>执行多行 SQL 语句，以分号分隔；</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="06-表记录的操作">06 表记录的操作<a href="#06-表记录的操作" class="hash-link" aria-label="06 表记录的操作的直接链接" title="06 表记录的操作的直接链接">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="61-插入记录">6.1 插入记录<a href="#61-插入记录" class="hash-link" aria-label="6.1 插入记录的直接链接" title="6.1 插入记录的直接链接">​</a></h5>
<ul>
<li>SQL 窗口 --&gt; 执行 F8 --&gt; 提交事务--&gt; 数据生效</li>
<li>提交事务 <code>commit;</code> （可单独选中执行）</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> 表名</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">字段名</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> 字段名</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> 字段名n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">字段</span><span class="token number">1</span><span class="token plain">值</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> 字段</span><span class="token number">2</span><span class="token plain">值</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> 字段n值</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">yz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">sc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0101&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;西施&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;漂亮&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;2000-01-01 01:12:35&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;火辣&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">48.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">170</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;这是一个非常漂亮姑娘，老公是夫差，男朋友是范蠡。&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">yz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">sc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0102&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;貂禅&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;漂亮&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1997-08-02 12:20:38&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;苗条&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">45.2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">168</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;王允真不是男人，干不过董卓就把美人往火坑里推，千古罪人啊。&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">yz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">sc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0103&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;妲已&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;漂亮&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1998-03-03 10:50:33&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;火辣&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">53.6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">172</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;如果商真的因我而亡，您们男人做什么去了？&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">yz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">sc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0104&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;芙蓉姐姐&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;猪扒&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1980-05-05 10:11:55&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;膘肥体壮&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">85.8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">166</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;如果不努力学习技术，将来就会娶个芙蓉姐姐，哼哼。&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">yz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">sc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0105&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;神密猫女&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1989-12-08 12:10:35&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">48.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">171</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;不知道是什么人，她脸上有一个%符号，很神密。&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 提交事务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="62-错误测试">6.2 错误测试<a href="#62-错误测试" class="hash-link" aria-label="6.2 错误测试的直接链接" title="6.2 错误测试的直接链接">​</a></h5>
<ul>
<li>输入错误 <code>id</code> --&gt; <code>idd</code>；表名错误；关键字错误；语句错误；</li>
<li>字段名列表数目与字段值不对应；</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="63-查询记录">6.3 查询记录<a href="#63-查询记录" class="hash-link" aria-label="6.3 查询记录的直接链接" title="6.3 查询记录的直接链接">​</a></h5>
<ul>
<li>注意，<code>*</code> 写法不得出现在程序中，否则当表结构改变或字段位置改变，程序将出现混乱</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 满足条件的特定记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> 字段名</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> 字段名</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> 字段名n </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> 条件</span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> 条件</span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"> 条件n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 满足条件的所有记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> 条件</span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> 条件</span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"> 条件n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 表中所有记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> 表名</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> to_char</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> yz</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;漂亮&#x27;</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> sc</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;火辣&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="64-修改记录">6.4 修改记录<a href="#64-修改记录" class="hash-link" aria-label="6.4 修改记录的直接链接" title="6.4 修改记录的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> 字段名</span><span class="token number">1</span><span class="token operator">=</span><span class="token plain">值</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">字段名</span><span class="token number">2</span><span class="token operator">=</span><span class="token plain">值</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">字段名n</span><span class="token operator">=</span><span class="token plain">值n </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> 条件</span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> 条件</span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"> 条件n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> weight</span><span class="token operator">=</span><span class="token number">89.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> yz</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;恐龙&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> birthday</span><span class="token operator">=</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1978-01-01 01:12:35&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;芙蓉姐姐&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="65-删除记录">6.5 删除记录<a href="#65-删除记录" class="hash-link" aria-label="6.5 删除记录的直接链接" title="6.5 删除记录的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">delete</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> 条件</span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">and</span><span class="token plain"> 条件</span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"> 条件n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 插入测试用例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> weight</span><span class="token operator">=</span><span class="token number">89.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">yz</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;恐龙&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">birthday</span><span class="token operator">=</span><span class="token plain">to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1978-01-01 01:12:35&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;芙蓉姐姐&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> yz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> birthday</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> weight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> memo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0110&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;张三&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;未知&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> to_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1000-01-01 01:01:01&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;未知&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">199</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;江湖号称法外狂徒。&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> T_GIRL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">delete</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;芙蓉姐姐&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-疑问-1">00 疑问<a href="#00-疑问-1" class="hash-link" aria-label="00 疑问的直接链接" title="00 疑问的直接链接">​</a></h4>
<ul>
<li>如何理解工程项目中不能出现 <code>*</code> 的查询语句？具体的使用场景有哪些？是指程序中如果需要用到依赖检索结果的语句，就不能使用 <code>*</code> 来建立这种依赖？从而避免依赖的改变，导致输出的改变？</li>
<li><del>插入数据后，表格出现相同了重复的内容，这种如何避免？</del> 引出了主键以及主键约束的概念。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240628182937769" src="/Notes/assets/images/image-20240628182937769-1be2329935b23a655186870374ba1ac6.png" width="983" height="293" class="img_O9Fa"></p>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-bug-1">00 BUG<a href="#00-bug-1" class="hash-link" aria-label="00 BUG的直接链接" title="00 BUG的直接链接">​</a></h4>
<ul>
<li>1）执行多行语句，产生多个执行框，但选中执行框后，自动识别的对应语句，定位错误。是否因为修改了字体大小，字号不匹配导致的错位？</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240627181702170" src="/Notes/assets/images/image-20240627181702170-49b21d4e0b54b692e478ad31290ebaaf.png" width="815" height="471" class="img_O9Fa"></p>
<ul>
<li>2024/06/27 18:27:41 1h30min</li>
<li>2024/06/28 17:03:18 27min</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="83-表的主键和约束">83 表的主键和约束<a href="#83-表的主键和约束" class="hash-link" aria-label="83 表的主键和约束的直接链接" title="83 表的主键和约束的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="01-表的主键">01 表的主键<a href="#01-表的主键" class="hash-link" aria-label="01 表的主键的直接链接" title="01 表的主键的直接链接">​</a></h4>
<ul>
<li>主键
<ul>
<li>核心是数据的唯一特性（标识，例如身份证号码、手机号码）</li>
<li><code>primay key(id)</code> 指定主键</li>
</ul>
</li>
<li>作用
<ul>
<li>体现数据结构设计的合理性；提升数据操作的效率；保证数据的完整性（主键约束）</li>
</ul>
</li>
<li>创建表的主键
<ul>
<li>1）创建表时 <code>create table</code></li>
<li>2）修改表时 <code>alter table</code></li>
</ul>
</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 创建表时，创建主键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">         </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 编号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  	name      varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">30</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">    </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 姓名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    primay </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">						  </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 以 id 列创建主键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 修改表时，创建主键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">add</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constraint</span><span class="token plain"> 主键名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">primary</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">字段名</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">字段名</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">字段名n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">add</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constraint</span><span class="token plain"> PK_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">primary</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="02-表的约束">02 表的约束<a href="#02-表的约束" class="hash-link" aria-label="02 表的约束的直接链接" title="02 表的约束的直接链接">​</a></h4>
<ul>
<li>非空约束
<ul>
<li>注意，若表格已存在，则报错；另外，应当注意检查核对当前操作的表名</li>
</ul>
</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c1 varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">c2 varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 创建表 tt2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c1 varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c2 varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 插入记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> tt2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;aa&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;bb&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 插入失败，c2 不能为空值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> tt2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 插入成功，c1 可为空值，单独指定 c2 值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> tt2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;cc&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 查询非空值 &amp; 查询空值 | 不能使用等号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> tt2 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> c1 </span><span class="token operator">is</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> tt2 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> c1 </span><span class="token operator">is</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> tt2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>唯一性约束</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码 --&gt; 已有表，再次执行，则报错：违反唯一约束条件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt2 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">name varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">primary</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>检查约束
<ul>
<li>对值的范围进行检查、约束；若插入数据不满足条件，则报错；</li>
</ul>
</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">--create table TT20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--   c1   number(6) constraint CKC_C1_TT check (c1 &gt;= 10), </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--   c2   number(6) constraint CKC_C2_TT check (c2 &lt;= 20), </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--   c3   number(6) constraint CKC_C3_TT check (c3 in (1,2,3))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 插入失败，c1 违反检查约束条件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> tt20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> TT20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>外键约束（见后续章节）</li>
<li>信息补充
<ul>
<li>Oracle 表示空值，两种方式 <code>&#x27;&#x27;</code> 和 <code>null</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="02-字段的缺省值">02 字段的缺省值<a href="#02-字段的缺省值" class="hash-link" aria-label="02 字段的缺省值的直接链接" title="02 字段的缺省值的直接链接">​</a></h4>
<ul>
<li>类似 C++ 函数参数的缺省；关键字 <code>default</code></li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> TT21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   name     varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   crttime  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">date</span><span class="token plain">         </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> sysdate </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   rsts     number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constraint</span><span class="token plain"> CKC_RSTS_TT </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">check</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">rsts </span><span class="token operator">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> tt21</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;李四&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="03-表的存储空间见后续章节">03 表的存储空间（见后续章节）<a href="#03-表的存储空间见后续章节" class="hash-link" aria-label="03 表的存储空间（见后续章节）的直接链接" title="03 表的存储空间（见后续章节）的直接链接">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="04-修改表结构">04 修改表结构<a href="#04-修改表结构" class="hash-link" aria-label="04 修改表结构的直接链接" title="04 修改表结构的直接链接">​</a></h4>
<ul>
<li>关键字 <code>alter table</code>，涉及选项非常多，下面讲述四种主要用法：增加字段、修改字段属性、修改字段名、删除字段。</li>
<li>注意
<ul>
<li>修改字段属性时，若表中已存在数据，则修改可能失败；例如存在值 100，将其范围改为 <code>number(1)</code>，则无法存储值 100；又如将 <code>null</code> 改为 <code>not null</code>，但记录已存在 <code>null</code> 的情况；或者，新旧数据类型不兼容的情况。</li>
<li>以上三种情况，本质上是已存在的数据与修改后的规则或约束产生矛盾，其结果是修改失败。</li>
<li>总结为：值的范围不匹配、值的存在性不一致、值的类型不兼容。</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="41-增加字段">4.1 增加字段<a href="#41-增加字段" class="hash-link" aria-label="4.1 增加字段的直接链接" title="4.1 增加字段的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 1）增加字段</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">add</span><span class="token plain"> 字段名 数据类型 其它选项</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 新增字段 address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">add</span><span class="token plain"> address varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 新增含约束条件 con_rsts 的字段 rsts2 in (1, 2)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">add</span><span class="token plain"> rsts2 number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constraint</span><span class="token plain"> con_rsts </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">check</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">rsts2 </span><span class="token operator">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="42-修改字段的属性">4.2 修改字段的属性<a href="#42-修改字段的属性" class="hash-link" aria-label="4.2 修改字段的属性的直接链接" title="4.2 修改字段的属性的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 2）修改字段的属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">modify</span><span class="token plain"> 字段名 数据类型 其它选项</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">modify</span><span class="token plain"> address varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 修改失败，与已有空值矛盾</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">modify</span><span class="token plain"> address varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 删除约束条件 con_rsts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constraint</span><span class="token plain"> con_rsts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 修改 rsts 字段的约束条件为 con_rsts2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">modify</span><span class="token plain"> rsts </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constraint</span><span class="token plain"> con_rsts2 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">check</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">rsts </span><span class="token operator">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="43-修改字段名">4.3 修改字段名<a href="#43-修改字段名" class="hash-link" aria-label="4.3 修改字段名的直接链接" title="4.3 修改字段名的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 3）修改字段名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rename</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">column</span><span class="token plain"> 列名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">to</span><span class="token plain"> 新列名</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rename</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">column</span><span class="token plain"> rsrs2 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">to</span><span class="token plain"> del1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_QJwc" id="44-删除字段">4.4 删除字段<a href="#44-删除字段" class="hash-link" aria-label="4.4 删除字段的直接链接" title="4.4 删除字段的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- 4）删除字段（删除列）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名 dorp </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">column</span><span class="token plain"> 字段名</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">column</span><span class="token plain"> rsts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> T_GIRL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">column</span><span class="token plain"> address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="05-修改表名">05 修改表名<a href="#05-修改表名" class="hash-link" aria-label="05 修改表名的直接链接" title="05 修改表名的直接链接">​</a></h4>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rename</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">to</span><span class="token plain"> 新表名</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">alter</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt21 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rename</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">to</span><span class="token plain"> tt8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="06-删除表">06 删除表<a href="#06-删除表" class="hash-link" aria-label="06 删除表的直接链接" title="06 删除表的直接链接">​</a></h4>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> 表名</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 示例代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">drop</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> tt8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-经验">00 经验<a href="#00-经验" class="hash-link" aria-label="00 经验的直接链接" title="00 经验的直接链接">​</a></h4>
<ul>
<li>学习数据库时，关键是理解概念、理解原理，不要背语法；取而代之的是知道有这么回事，需要时查文档、搜索引擎。</li>
<li>实际开发中，一般在创建表的同时，在语句末尾创建主键。</li>
<li>创建表后，一般不会修改其结构，但也可以进行修改。实际工作中很少用到，但需自行了解，知道有这个功能。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-疑问-2">00 疑问<a href="#00-疑问-2" class="hash-link" aria-label="00 疑问的直接链接" title="00 疑问的直接链接">​</a></h4>
<ul>
<li>
<p>如何查看已有字段是否存在约束条件？</p>
</li>
<li>
<p>在 PL/SQL 中，只能执行一条语句，注释一条、删除一条或者选中需要执行的新内容？这样的操作有点反人类，而且与 VSC 那种 IDE 的调试模式不同。</p>
</li>
<li>
<p>是否有合适的 PL/SQL 插件？例如代码自动补全功能、书写错误检查等，或者干脆封装到常用的 IDE 当中，把开发环境集成起来。</p>
</li>
<li>
<p>修改字段名，是否有连续修改的语句？例如使用字段名列表。</p>
</li>
<li>
<p>删除字段名，是否有连续删除的语句？例如使用字段名列表。</p>
</li>
<li>
<p>2024/06/28 18:59:20 20min + 50min</p>
</li>
<li>
<p>2024/06/28 22:42:57 1h31min</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="84-事务虚表序列和伪列">84 事务、虚表、序列和伪列<a href="#84-事务虚表序列和伪列" class="hash-link" aria-label="84 事务、虚表、序列和伪列的直接链接" title="84 事务、虚表、序列和伪列的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="01-事务">01 事务<a href="#01-事务" class="hash-link" aria-label="01 事务的直接链接" title="01 事务的直接链接">​</a></h4>
<ul>
<li>内容：数据库中的逻辑任务，一个事务由一个或一组 SQL 语句组成。</li>
<li>目的：保证数据完整性，使得 SQL 语句（或语句组）原子地执行或撤销。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="02-示例">02 示例<a href="#02-示例" class="hash-link" aria-label="02 示例的直接链接" title="02 示例的直接链接">​</a></h4>
<ul>
<li>1）从账户 A 到账户 B 的转账操作
<ul>
<li>业务
<ul>
<li>A 10000元，B 10000元（初始态）；</li>
<li>A --&gt; 1000元 --&gt; B；</li>
<li>A 9000元 --&gt; B 11000元；</li>
</ul>
</li>
<li>加锁</li>
<li>执行成功 --&gt; 相应余额加减</li>
<li>执行失败 --&gt; 操作撤回（形似回溯算法的步骤）</li>
<li>解锁</li>
</ul>
</li>
<li>如此，分支特化处理十分繁琐，不利于逻辑 / 业务规模扩展；</li>
<li>由此，使用 Oracle 事务进行相关的操作，将有利于逻辑封装及原子性操作
<ul>
<li>开始事务（自动加锁）</li>
<li>回滚事务（某环节失败）</li>
<li>提交事务（全环节成功 --&gt; 自动解锁）</li>
</ul>
</li>
<li>2）假设转账已执行修改余额的操作，等待过程被其他进程访问
<ul>
<li>交易处理 --&gt; 程序等待</li>
<li>此时，其他进程查看 A、B 余额仍为 10000元 --&gt; 无法修改（已被加锁）</li>
<li>交易生效 --&gt; 事务提交</li>
<li>整体而言，对其他程序，这四个数据是同时生效的，即为原子操作</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="03-事务控制">03 事务控制<a href="#03-事务控制" class="hash-link" aria-label="03 事务控制的直接链接" title="03 事务控制的直接链接">​</a></h4>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">begin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">		</span><span class="token comment" style="color:rgb(98, 114, 164)">-- 开始事务，默认从第一条操作数据的 SQL 语句开始</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">		</span><span class="token comment" style="color:rgb(98, 114, 164)">-- 提交事务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rollback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">	</span><span class="token comment" style="color:rgb(98, 114, 164)">-- 回滚事务，回滚到最后一次 commit 的数据状态</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>核心内容，调试
<ul>
<li>提交事务：两个数据库窗口，模拟两个进程
<ul>
<li>1）两进程分别同时修改 AB 余额，由于未提交，则各自都看到旧数据；</li>
<li>2）两进场分别提交修改，各自数据生效；</li>
<li>3）进程一修改 A 余额，未提交；进程二尝试修改 A 余额，则提示执行中，并且对阻塞计时，等待进程一的提交修改；</li>
<li>4）进程一提交修改（锁被释放），则进程二立即执行阻塞中的修改；</li>
<li>5）若当前没有事务，则界面提交及回滚按钮不可操作（灰色）；</li>
</ul>
</li>
<li>回滚事务：
<ul>
<li>回滚若干操作，即回到最后一次 commit 的数据状态</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain"> t1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       usr varchar2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       ye number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">not</span><span class="token plain"> </span><span class="token boolean">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> t1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">usr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ye</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;A&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">insert</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">into</span><span class="token plain"> t1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">usr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ye</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">values</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;B&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 提交后，方可见两个记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 进程一</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> t1 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> ye</span><span class="token operator">=</span><span class="token plain">ye</span><span class="token operator">-</span><span class="token number">1000</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> usr</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;A&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 进程二</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> t1 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> ye</span><span class="token operator">=</span><span class="token plain">ye</span><span class="token operator">-</span><span class="token number">1000</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> usr</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;B&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- 提交后，方可见各自修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> t1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- rollback，回滚若干操作，即回到最后一次 commit 的数据状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> t1 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> ye</span><span class="token operator">=</span><span class="token plain">ye</span><span class="token operator">-</span><span class="token number">1000</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> usr</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;A&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">update</span><span class="token plain"> t1 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> ye</span><span class="token operator">=</span><span class="token plain">ye</span><span class="token operator">+</span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">where</span><span class="token plain"> usr</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;A&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> t1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--commit;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rollback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">select</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> t1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>阻塞等待其他进程释放锁</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240630173046994" src="/Notes/assets/images/image-20240630173046994-f70d880760982e8f565f450b2a530f13.png" width="775" height="497" class="img_O9Fa"></p>
<ul>
<li>
<p>其他内容</p>
<ul>
<li>1）设置事务属性
<ul>
<li>设置事务的各种状态，比如
<ul>
<li>（1）只读、读/写；</li>
<li>（2）隔离级别；</li>
<li>（3）将事务分配回滚段；</li>
<li>（4）为事务分配名称，等等。</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">set</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">transaction</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">read</span><span class="token plain"> only </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">read</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">isolation</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">level</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">serialize </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">read</span><span class="token plain"> commited</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">use</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rollback</span><span class="token plain"> segment </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;segment_name&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">name </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;transaction_name&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>2）数据异常</p>
<ul>
<li>并发事务对同一数据库访问时，可能情况 + 隔离级别设置：
<ul>
<li>（1）<strong>错读 / 脏读（Dirty Read）</strong>
<ul>
<li>--&gt; 设置隔离级别（<strong>读已提交或更高</strong>）</li>
<li>一个事务读取了另一事务未提交的数据；</li>
<li>若第一个事务回滚；</li>
<li>则第二个事务读到的数据无效、与数据库的不一致。</li>
</ul>
</li>
<li>（2）<strong>非重复读取 / 不可重复读（Non-repeatable Read）</strong>
<ul>
<li>--&gt; 设置隔离级别（<strong>可重复读或更高</strong>）</li>
<li>一个事务读取了某一行数据；</li>
<li>另一个事务更新了该行数据；</li>
<li>那么当第一个事务再次读取该行数据时，会发现数据已改变。</li>
</ul>
</li>
<li>（3）<strong>假读 / 幻读（Phantom Read）</strong>
<ul>
<li>--&gt; 设置隔离级别（<strong>序列化</strong>）</li>
<li>当一个事务基于某个条件读取了一组数据；</li>
<li>另一个事务在此期间插入或删除了数据；</li>
<li>则第一个事务再次读取数据时，会发现符合条件的行数已改变。</li>
</ul>
</li>
</ul>
</li>
<li>规律
<ul>
<li>隔离性级别越多，异常出现越少，并发性能越低；</li>
<li>隔离性级别越低，异常出现越多，并发性能越高。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>3）选择隔离层</p>
<ul>
<li>非提交读（READ UNCOMMITTED），DNP 111</li>
<li><strong>读已提交（READ COMMITTED）</strong>，DNP 011</li>
<li>可重复读（Repeatable READ），DNP 001</li>
<li><strong>串行读 / 序列化（Serializable）</strong>，DNP 000</li>
<li>补充
<ul>
<li>D、N、P 分别对应三种数据异常，1 表示允许的异常</li>
<li><strong>Oracle 支持上述两种，并额外定义了两层</strong>，分别是读已提交（默认）、串行读，另外定义了 read only 隔离层和 read write 隔离层（默认）。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>4）保存点 / 保留点（ <code>savepoint</code> ）</p>
<ul>
<li>在数据库事务处理中，实现 “子事务（嵌套事务）” 的方法。</li>
<li>事务可以回滚到 <code>savepoint</code> 而不影响 <code>savepoint</code> 创建前的变化，不需要放弃整个事务；</li>
<li>使用 <code>rollback</code> 设置保留点，执行多条 SQL 操作时，回滚到想要的那条 SQL 之前。</li>
</ul>
</li>
</ul>
<div class="language-sql codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-sql codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">savepoint</span><span class="token plain"> savepoint_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 声明一个savepoint。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rollback</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">to</span><span class="token plain"> savepoint_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">-- 回滚到savepoint。</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>经验</p>
<ul>
<li>提交 + 回滚，可满足 99% 的应用需求。</li>
<li>事务控制的其他内容，开发中很少使用。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="04-事务特征">04 事务特征<a href="#04-事务特征" class="hash-link" aria-label="04 事务特征的直接链接" title="04 事务特征的直接链接">​</a></h4>
<ul>
<li>ACID原则
<ul>
<li>原子性（Atomicity）：完全执行 or 完全不执行，提交时不存在中间结果；</li>
<li>一致性（Consistency）：数据总量在事务前后保持一致（例如 AB 账户共 1000元，互相转账，无论操作是否成功，两个账户总和仍为 1000元）；</li>
<li>隔离性（Isolation）：允许多并发事务同时对数据读写改，SQL 交叉操作数据，也能保持数据一致；</li>
<li>持久性（Durability）：事务结束后，立即将数据写入硬盘（对数据修改是永久保存的）。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="00-疑问-3">00 疑问<a href="#00-疑问-3" class="hash-link" aria-label="00 疑问的直接链接" title="00 疑问的直接链接">​</a></h4>
<ul>
<li>需要更直观地理解事务的隔离性。</li>
<li>事务控制涉及内容较多，即使从经验上的使用频率，隔离级别、数据异常等内容一带而过，但实际上属于比较重要的内容，如果在工程上设置不当，后果可能不堪设想。</li>
<li>理论内容、原理性内容比较多，让人有一种远离了代码的眼高手低感，但实际上也是需要耐心了解的，不过没有使用具体的代码例子。</li>
<li>阅读 “选择隔离层” 一节时，部分内容讲述、理解不清楚。
<ul>
<li>例如，“serializable：事务与事务之间完全隔开，事务以串行的方式执行，这并不是说一个事务必须结束才能启动另外一个事务，而是说这些事务的执行的结果于一次执行的事务的结果一致。” 这句话什么意思？</li>
<li>另外，提出了几个概念，例如 “read only 层是 serializable 层的一个子集”，“区别是 read only 只读，而 serialzable 可以执行 DML 操作。”</li>
<li>什么是 DML 操作？</li>
<li>为什么要基于 serialzable 层来定义 read only 层？</li>
</ul>
</li>
<li>如何理解 “子事务” 的提出，类似大型事务的若干中间快照？使得事务回滚更灵活？不会导致事务的原子性受到影响吗？</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="05-虚表">05 虚表<a href="#05-虚表" class="hash-link" aria-label="05 虚表的直接链接" title="05 虚表的直接链接">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="06-序列">06 序列<a href="#06-序列" class="hash-link" aria-label="06 序列的直接链接" title="06 序列的直接链接">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_QJwc" id="07-伪列">07 伪列<a href="#07-伪列" class="hash-link" aria-label="07 伪列的直接链接" title="07 伪列的直接链接">​</a></h4>
<ul>
<li>2024/06/30 16:38:12 事务，34min</li>
<li>2024/06/30 19:44:15 事务控制，2h55min</li>
<li>2024/07/01 04:00:10 虚表、序列、伪列，14min</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="85-表的索引">85 表的索引<a href="#85-表的索引" class="hash-link" aria-label="85 表的索引的直接链接" title="85 表的索引的直接链接">​</a></h3>
<hr>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="86-whereorder-by子句">86 where、order by子句<a href="#86-whereorder-by子句" class="hash-link" aria-label="86 where、order by子句的直接链接" title="86 where、order by子句的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="87-oracle的函数">87 Oracle的函数<a href="#87-oracle的函数" class="hash-link" aria-label="87 Oracle的函数的直接链接" title="87 Oracle的函数的直接链接">​</a></h3>
<hr>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十二章-oracle数据库基础下">第十二章 Oracle数据库基础（下）<a href="#第十二章-oracle数据库基础下" class="hash-link" aria-label="第十二章 Oracle数据库基础（下）的直接链接" title="第十二章 Oracle数据库基础（下）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="88-外键别名和子查询">88 外键、别名和子查询<a href="#88-外键别名和子查询" class="hash-link" aria-label="88 外键、别名和子查询的直接链接" title="88 外键、别名和子查询的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="89-表空间用户和权限管理">89 表空间、用户和权限管理<a href="#89-表空间用户和权限管理" class="hash-link" aria-label="89 表空间、用户和权限管理的直接链接" title="89 表空间、用户和权限管理的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="90-视图和数据字典">90 视图和数据字典<a href="#90-视图和数据字典" class="hash-link" aria-label="90 视图和数据字典的直接链接" title="90 视图和数据字典的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="91-数据库链路和同义词">91 数据库链路和同义词<a href="#91-数据库链路和同义词" class="hash-link" aria-label="91 数据库链路和同义词的直接链接" title="91 数据库链路和同义词的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="92-自定义函数存储过程和触发器">92 自定义函数、存储过程和触发器<a href="#92-自定义函数存储过程和触发器" class="hash-link" aria-label="92 自定义函数、存储过程和触发器的直接链接" title="92 自定义函数、存储过程和触发器的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="93-其它的知识和概念">93 其它的知识和概念<a href="#93-其它的知识和概念" class="hash-link" aria-label="93 其它的知识和概念的直接链接" title="93 其它的知识和概念的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="94-数据库设计powerdesigner上">94 数据库设计PowerDesigner(上)<a href="#94-数据库设计powerdesigner上" class="hash-link" aria-label="94 数据库设计PowerDesigner(上)的直接链接" title="94 数据库设计PowerDesigner(上)的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="95-数据库设计powerdesigner下">95 数据库设计PowerDesigner(下)<a href="#95-数据库设计powerdesigner下" class="hash-link" aria-label="95 数据库设计PowerDesigner(下)的直接链接" title="95 数据库设计PowerDesigner(下)的直接链接">​</a></h3>
<hr>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十三章-c开发oracle数据库">第十三章 C++开发Oracle数据库<a href="#第十三章-c开发oracle数据库" class="hash-link" aria-label="第十三章 C++开发Oracle数据库的直接链接" title="第十三章 C++开发Oracle数据库的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="96-创建表">96 创建表<a href="#96-创建表" class="hash-link" aria-label="96 创建表的直接链接" title="96 创建表的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="97-向表中插入数据">97 向表中插入数据<a href="#97-向表中插入数据" class="hash-link" aria-label="97 向表中插入数据的直接链接" title="97 向表中插入数据的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="98-修改和删除表中的数据">98 修改和删除表中的数据<a href="#98-修改和删除表中的数据" class="hash-link" aria-label="98 修改和删除表中的数据的直接链接" title="98 修改和删除表中的数据的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="99-从表中查询数据">99 从表中查询数据<a href="#99-从表中查询数据" class="hash-link" aria-label="99 从表中查询数据的直接链接" title="99 从表中查询数据的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="100-存取大型对象">100 存取大型对象<a href="#100-存取大型对象" class="hash-link" aria-label="100 存取大型对象的直接链接" title="100 存取大型对象的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="101-其它的细节">101 其它的细节<a href="#101-其它的细节" class="hash-link" aria-label="101 其它的细节的直接链接" title="101 其它的细节的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="102-全国气象站点参数文件入库">102 全国气象站点参数文件入库<a href="#102-全国气象站点参数文件入库" class="hash-link" aria-label="102 全国气象站点参数文件入库的直接链接" title="102 全国气象站点参数文件入库的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="103-全国气象观测数据文件入库上">103 全国气象观测数据文件入库（上）<a href="#103-全国气象观测数据文件入库上" class="hash-link" aria-label="103 全国气象观测数据文件入库（上）的直接链接" title="103 全国气象观测数据文件入库（上）的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_QJwc" id="104-全国气象观测数据文件入库下">104 全国气象观测数据文件入库（下）<a href="#104-全国气象观测数据文件入库下" class="hash-link" aria-label="104 全国气象观测数据文件入库（下）的直接链接" title="104 全国气象观测数据文件入库（下）的直接链接">​</a></h3>
<hr>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十四章-数据抽取模块">第十四章 数据抽取模块<a href="#第十四章-数据抽取模块" class="hash-link" aria-label="第十四章 数据抽取模块的直接链接" title="第十四章 数据抽取模块的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 105 数据抽取-业务需求</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 106 数据抽取-程序的框架</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 107 数据抽取-全量抽取</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 108 数据抽取-增量抽取</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 109 数据抽取-应用的经验</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十五章-数据入库模块">第十五章 数据入库模块<a href="#第十五章-数据入库模块" class="hash-link" aria-label="第十五章 数据入库模块的直接链接" title="第十五章 数据入库模块的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 110 数据入库-业务需求</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 111 数据入库-程序的框架</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 112 数据入库-读取数据字典</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 113 数据入库-准备SQL语句</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 114 数据入库-解析xml、执行SQL语句</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 115 数据入库-完善和优化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 116 数据入库-应用的经验</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十六章-数据管理模块">第十六章 数据管理模块<a href="#第十六章-数据管理模块" class="hash-link" aria-label="第十六章 数据管理模块的直接链接" title="第十六章 数据管理模块的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据管理-业务需求</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据管理-数据清理</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据管理-数据迁移</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十七章-数据同步模块">第十七章 数据同步模块<a href="#第十七章-数据同步模块" class="hash-link" aria-label="第十七章 数据同步模块的直接链接" title="第十七章 数据同步模块的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据同步-业务需求</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据同步-不分批刷新</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据同步-分批刷新</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据同步-增量同步</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据同步-应用的经验</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十八章-io多路复用">第十八章 IO多路复用<a href="#第十八章-io多路复用" class="hash-link" aria-label="第十八章 IO多路复用的直接链接" title="第十八章 IO多路复用的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* select模型（上）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* select模型（下）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* poll模型</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* epoll模型</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 阻塞&amp;非阻塞的IO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 水平触和&amp;边缘触发</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* epoll的原理</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第十九章-网络代理模块">第十九章 网络代理模块<a href="#第十九章-网络代理模块" class="hash-link" aria-label="第十九章 网络代理模块的直接链接" title="第十九章 网络代理模块的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 正向代理的实现</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 用epll处理定时器和信号</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 正向代理的优化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 反向代理（上）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 反向代理（下）</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第二十章-数据访问接口模块">第二十章 数据访问接口模块<a href="#第二十章-数据访问接口模块" class="hash-link" aria-label="第二十章 数据访问接口模块的直接链接" title="第二十章 数据访问接口模块的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据共享的业务需求</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* HTTP协议的本质</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* HTTP协议示例</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 表的设计</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 功能的实现（上）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 功能的实现（下）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 数据安全策略</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_QJwc" id="第二十一章-学习总结">第二十一章 学习总结<a href="#第二十一章-学习总结" class="hash-link" aria-label="第二十一章 学习总结的直接链接" title="第二十一章 学习总结的直接链接">​</a></h2>
<div class="codeBlockContainer_qNdj theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_enjf"><pre tabindex="0" class="prism-code language-text codeBlock_txiP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_XHAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 非结构化数据的存储</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 共享平台的辅助功能</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 如何获得项目经验</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 简历的编写</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 如何向面试官介绍项目</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 面试官可能的提问</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* 下一步学习计划</span><br></span></code></pre><div class="buttonGroup_Y8nk"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FM2O" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_GhTt"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_AhUB"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/Notes/docs/cpp_server/00Task/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">00 Task C++后台服务器开发 Ch07~Ch10 总结</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Notes/docs/category/mysql-必知必会/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">MySQL 必知必会</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_G4nv thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#01-task-c后台服务器开发-ch11ch20-总结" class="table-of-contents__link toc-highlight">01 Task C++后台服务器开发 Ch11~Ch20 总结</a><ul><li><a href="#00-进度" class="table-of-contents__link toc-highlight">00 进度</a></li></ul></li><li><a href="#第十一章-oracle数据库基础上" class="table-of-contents__link toc-highlight">第十一章 Oracle数据库基础（上）</a><ul><li><a href="#79-数据库的业务需求" class="table-of-contents__link toc-highlight">79 数据库的业务需求</a></li><li><a href="#80-oracle数据库系统的安装" class="table-of-contents__link toc-highlight">80 Oracle数据库系统的安装</a></li><li><a href="#81-oracle客户端的安装和配置" class="table-of-contents__link toc-highlight">81 Oracle客户端的安装和配置</a></li><li><a href="#82-表的基本概念" class="table-of-contents__link toc-highlight">82 表的基本概念</a></li><li><a href="#83-表的主键和约束" class="table-of-contents__link toc-highlight">83 表的主键和约束</a></li><li><a href="#84-事务虚表序列和伪列" class="table-of-contents__link toc-highlight">84 事务、虚表、序列和伪列</a></li><li><a href="#85-表的索引" class="table-of-contents__link toc-highlight">85 表的索引</a></li><li><a href="#86-whereorder-by子句" class="table-of-contents__link toc-highlight">86 where、order by子句</a></li><li><a href="#87-oracle的函数" class="table-of-contents__link toc-highlight">87 Oracle的函数</a></li></ul></li><li><a href="#第十二章-oracle数据库基础下" class="table-of-contents__link toc-highlight">第十二章 Oracle数据库基础（下）</a><ul><li><a href="#88-外键别名和子查询" class="table-of-contents__link toc-highlight">88 外键、别名和子查询</a></li><li><a href="#89-表空间用户和权限管理" class="table-of-contents__link toc-highlight">89 表空间、用户和权限管理</a></li><li><a href="#90-视图和数据字典" class="table-of-contents__link toc-highlight">90 视图和数据字典</a></li><li><a href="#91-数据库链路和同义词" class="table-of-contents__link toc-highlight">91 数据库链路和同义词</a></li><li><a href="#92-自定义函数存储过程和触发器" class="table-of-contents__link toc-highlight">92 自定义函数、存储过程和触发器</a></li><li><a href="#93-其它的知识和概念" class="table-of-contents__link toc-highlight">93 其它的知识和概念</a></li><li><a href="#94-数据库设计powerdesigner上" class="table-of-contents__link toc-highlight">94 数据库设计PowerDesigner(上)</a></li><li><a href="#95-数据库设计powerdesigner下" class="table-of-contents__link toc-highlight">95 数据库设计PowerDesigner(下)</a></li></ul></li><li><a href="#第十三章-c开发oracle数据库" class="table-of-contents__link toc-highlight">第十三章 C++开发Oracle数据库</a><ul><li><a href="#96-创建表" class="table-of-contents__link toc-highlight">96 创建表</a></li><li><a href="#97-向表中插入数据" class="table-of-contents__link toc-highlight">97 向表中插入数据</a></li><li><a href="#98-修改和删除表中的数据" class="table-of-contents__link toc-highlight">98 修改和删除表中的数据</a></li><li><a href="#99-从表中查询数据" class="table-of-contents__link toc-highlight">99 从表中查询数据</a></li><li><a href="#100-存取大型对象" class="table-of-contents__link toc-highlight">100 存取大型对象</a></li><li><a href="#101-其它的细节" class="table-of-contents__link toc-highlight">101 其它的细节</a></li><li><a href="#102-全国气象站点参数文件入库" class="table-of-contents__link toc-highlight">102 全国气象站点参数文件入库</a></li><li><a href="#103-全国气象观测数据文件入库上" class="table-of-contents__link toc-highlight">103 全国气象观测数据文件入库（上）</a></li><li><a href="#104-全国气象观测数据文件入库下" class="table-of-contents__link toc-highlight">104 全国气象观测数据文件入库（下）</a></li></ul></li><li><a href="#第十四章-数据抽取模块" class="table-of-contents__link toc-highlight">第十四章 数据抽取模块</a></li><li><a href="#第十五章-数据入库模块" class="table-of-contents__link toc-highlight">第十五章 数据入库模块</a></li><li><a href="#第十六章-数据管理模块" class="table-of-contents__link toc-highlight">第十六章 数据管理模块</a></li><li><a href="#第十七章-数据同步模块" class="table-of-contents__link toc-highlight">第十七章 数据同步模块</a></li><li><a href="#第十八章-io多路复用" class="table-of-contents__link toc-highlight">第十八章 IO多路复用</a></li><li><a href="#第十九章-网络代理模块" class="table-of-contents__link toc-highlight">第十九章 网络代理模块</a></li><li><a href="#第二十章-数据访问接口模块" class="table-of-contents__link toc-highlight">第二十章 数据访问接口模块</a></li><li><a href="#第二十一章-学习总结" class="table-of-contents__link toc-highlight">第二十一章 学习总结</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>